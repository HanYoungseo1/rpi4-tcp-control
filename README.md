# Raspberry Pi Device Control Project

μ΄ ν”„λ΅μ νΈλ” Raspberry Piμ—μ„ λ™μ‘ν•λ” λ‹¤μ–‘ν• μ¥μΉ(LED, Buzzer, Sensor, segment λ“±)λ¥Ό TCP μ†μΌ“μ„ ν†µν•΄ μ›κ²© μ μ–΄ν•λ” μ„λ²„/ν΄λΌμ΄μ–ΈνΈ μ‹μ¤ν…μ…λ‹λ‹¤.

μ„λ²„λ” Raspberry Piμ—μ„ λ°λ¬ ν”„λ΅μ„Έμ¤λ΅ μ‹¤ν–‰λλ©°,
ν΄λΌμ΄μ–ΈνΈλ” Linux Ubuntu ν™κ²½μ—μ„ μ„λ²„μ— μ ‘μ†ν•μ—¬ λ¬Έμμ—΄ λ…λ Ήμ„ ν†µν•΄ μ¥μΉλ¥Ό μ μ–΄ν•©λ‹λ‹¤.


## π“ Project Overview

- Server: Raspberry Pi 4 (ARM64)

- Client: Ubuntu Linux

- Communication: TCP/IP Socket

- Concurrency: Multi-threaded device control

- Modularity: Shared library (.so) based device drivers

- Build: Cross-compilation + Makefile automation


## π–¥οΈ Supported Devices & Behavior

### π”Ή LED

- ν΄λΌμ΄μ–ΈνΈ λ…λ Ήμ„ ν†µν•΄ ON / OFF μ μ–΄

- λ°κΈ° λ‹¨κ³„ μ΅°μ  (μµλ€ / μ¤‘κ°„ / μµμ†)

- Sensorμ™€ μ—°λ™ μ‹ μλ™ μ μ–΄


### π”Ή Buzzer

- ν΄λΌμ΄μ–ΈνΈ λ…λ ΉμΌλ΅ μ†λ¦¬ ON / OFF μ μ–΄

- 7-Segment μΉ΄μ΄νΈλ‹¤μ΄ μΆ…λ£ μ‹ μ•λ¦Όμ©μΌλ΅ λ™μ‘


### π”Ή Light Sensor

- ν΄λΌμ΄μ–ΈνΈμ—μ„ μ΅°λ„ μ„Όμ„ κ°’ ν™•μΈ

- λΉ›μ΄ κ°μ§€λμ§€ μ•μΌλ©΄ LED On, λΉ›μ΄ κ°μ§€λλ©΄ LED Off


### π”Ή Temperature Sensor

- ν΄λΌμ΄μ–ΈνΈμ—μ„ μ¨λ„ μ„Όμ„ κ°’ ν™•μΈ

- μ¨λ„κ°€ μ„¤μ •ν• κ°’λ³΄λ‹¤ λ†’μΌλ©΄ LED On, λ‚®μΌλ©΄ LED Off


### π”Ή 7-Segment Display

- ν΄λΌμ΄μ–ΈνΈμ—μ„ μ „μ†΅ν• μ«μ(0~9) ν‘μ‹ (μ΄ λ‹¨μ„ μ‹κ°„)

- 1μ΄ μ§€λ‚  λ•λ§λ‹¤ -1μ”© κ°μ† ν‘μ‹

- 0μ΄ λλ©΄ λ¶€μ € μΈλ¦Ό


## β™οΈ System Architecture

- μ„λ²„λ” TCP μ—°κ²°μ„ μ μ§€ν•λ©° ν΄λΌμ΄μ–ΈνΈ λ…λ Ήμ„ μμ‹ 

- κ° μ¥μΉ μ μ–΄λ” κΈ°λ¥λ³„ μ¤λ λ“λ΅ λ¶„λ¦¬λμ–΄ μ‹¤ν–‰

- μ‹¤μ  ν•λ“μ›¨μ–΄ μ μ–΄ λ΅μ§μ€ κ³µμ  λΌμ΄λΈλ¬λ¦¬(.so) ν•νƒλ΅ κµ¬ν„

- μ„λ²„λ” λ°νƒ€μ„μ— dlopen() / dlsym()μ„ ν†µν•΄ μ¥μΉ μ μ–΄ λ΅μ§μ„ λ΅λ”©

- μ„λ²„λ” λ°λ¬ ν”„λ΅μ„Έμ¤λ΅ μ‹¤ν–‰λμ–΄ ν„°λ―Έλ„ μΆ…λ£μ™€ λ¬΄κ΄€ν•κ² λ™μ‘


## π€ Build & Run

### 1. Makefile λ‚΄ IP μμ •

```bash
IP = 192.168.0.49 
```

Makefile λ‚΄ IP λ³€μμ κ°’μ„
ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°ν•  μ„λ²„μ IP μ£Όμ†λ΅ μμ •ν•μ„Έμ”.


### 2. μ‹¤ν–‰ νμΌ λ° λΌμ΄λΈλ¬λ¦¬ λΉλ“

```bash
./exec.sh
```

μ΄ μ¤ν¬λ¦½νΈλ” λ‹¤μμ„ μν–‰ν•©λ‹λ‹¤.

- μ„λ²„ μ‹¤ν–‰ νμΌ `build/server` μƒμ„±
- ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰ νμΌ `build/client` μƒμ„±
- κ³µμ  λΌμ΄λΈλ¬λ¦¬ (`lib_led.so`, `lib_buzzer.so` λ“±) λΉλ“


### 3. μ„λ²„ μ‹¤ν–‰ (λΌμ¦λ² λ¦¬ νμ΄ λ“± μ¥μΉ μΈ΅)

```bash
./build/server
```

μ„λ²„λ” ν¬νΈ `60000`μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ—°κ²°μ„ κΈ°λ‹¤λ¦½λ‹λ‹¤. μ¥μΉ μ μ–΄λ” κ° λ©”μ‹μ§€μ— λ”°λΌ μ“°λ λ“λ΅ λ™μ‘ν•©λ‹λ‹¤.


### 4. ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰ (Ubuntu λ“± μ μ–΄ μΈ΅)

```bash
./build/client
```

ν΄λΌμ΄μ–ΈνΈλ” TCPλ¥Ό ν†µν•΄ μ„λ²„μ— μ—°κ²°ν•κ³ , μ¥μΉ μ μ–΄ λ…λ Ήμ„ λ³΄λ‚Ό μ μλ” μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•©λ‹λ‹¤.


## π“ Project Structure

```
project/
β”β”€β”€ build/               # μ‹¤ν–‰ νμΌ λ° λΌμ΄λΈλ¬λ¦¬ μ¶λ ¥ ν΄λ”
β”β”€β”€ server/
β”‚   β”β”€β”€ main.c
β”‚   β”β”€β”€ device/          # μ“°λ λ“ κΈ°λ° μ¥μΉ μ μ–΄ μ½”λ“
β”‚   β””β”€β”€ libs/            # κ³µμ  λΌμ΄λΈλ¬λ¦¬ μ½”λ“ (lib_xxx.so)
β”β”€β”€ client/              # ν΄λΌμ΄μ–ΈνΈ μ†μ¤
β”β”€β”€ Makefile
β””β”€β”€ exec.sh              # λΉλ“ μλ™ν™” μ¤ν¬λ¦½νΈ
```
---

## π“ GPIO Pin Configuration (BCM)

- LED β†’ GPIO 17

- Buzzer β†’ GPIO 25

- 7-Segment

    A: GPIO 14

    B: GPIO 15

    C: GPIO 18

    D: GPIO 23


## π›  Requirements

- `wiringPi` λΌμ΄λΈλ¬λ¦¬ (ν¬λ΅μ¤ μ»΄νμΌ ν™κ²½μ—μ„λ„ μ„¤μΉ ν•„μ”)

- `aarch64-linux-gnu-gcc` (ARM νƒ€κ²μ© μ»΄νμΌλ¬)
